import{w as l,d as b,g as d}from"./CojLKkpq.js";const f=[{name:"Shopping",icon:"Cart",color:"#1e90ff",subs:["Supermarket","Home utilities"]},{name:"Car",icon:"Car",color:"#ff6347",subs:["Fuel","Insurance","Repairs"]},{name:"Home",icon:"Home",color:"#32cd32",subs:["Electricity","Generator","Maintenance","Water"]},{name:"Entertainment",icon:"Film",color:"#ff1493",subs:["Dining Out","Movies","Outing"]},{name:"Personal",icon:"User",color:"#ffa500",subs:["Shopping","Selfcare"]},{name:"Gifts",icon:"Gift",color:"#8a2be2",subs:["Birthday","Wedding","Christmas"]},{name:"Healthcare",icon:"Heart",color:"#20b2aa",subs:["Doctor Visit","Pharmacy","Skincare","Health Insurance"]},{name:"Travel",icon:"Airplane",color:"#ff4500",subs:["Flight","Hotel","Car Rental"]}],I=[{name:"Salary",icon:"💰",color:"#10b981"},{name:"Bonus",icon:"🎉",color:"#3b82f6"},{name:"Gift",icon:"🎁",color:"#f59e0b"}];function p(){try{return JSON.parse(localStorage.getItem("budgeting:accounts")??"[]")}catch{return[]}}function h(e){localStorage.setItem("budgeting:accounts",JSON.stringify(e))}const S=l(p()),r=l(null),v="budgeting:activeAccount";{const e=localStorage.getItem(v);if(e){const n=p().find(t=>t.id===e)??null;r.set(n)}}function C(e,n){const t={id:crypto.randomUUID(),name:e,type:n};S.update(u=>{const a=[...u,t];return h(a),a}),r.set(t)}function H(e){const n=d(S).find(t=>t.id===e)??null;r.set(n)}const y=e=>`budgeting:categoryPrefs:${(e==null?void 0:e.id)??"none"}`;function g(e){try{return JSON.parse(localStorage.getItem(y(e))??"null")??{added:[],removed:[],order:[]}}catch{return{added:[],removed:[],order:[]}}}function P(){i.set(g(d(r))),r.subscribe(e=>{i.set(g(e))}),i.subscribe(e=>{localStorage.setItem(y(d(r)),JSON.stringify(e))})}const i=l({added:[],removed:[],order:[]}),O=b([i,r],([e,n],t)=>{const a=[...(n==null?void 0:n.type)==="income"?I:f,...e.added].filter(o=>!e.removed.includes(o.name)).reduce((o,s)=>o.some(c=>c.name===s.name)?o:o.concat(s),[],[]);e.order.length&&a.sort((o,s)=>{const c=e.order.indexOf(o.name),m=e.order.indexOf(s.name);return(c===-1?1/0:c)-(m===-1?1/0:m)}),t(a)},f);b(O,e=>Object.fromEntries(e.map(n=>[n.name,{icon:n.icon,color:n.color}])));export{S as a,r as b,C as c,O as d,f as e,P as i,i as r,H as s};
